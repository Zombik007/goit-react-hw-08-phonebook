{"version":3,"sources":["Components/Navigation/Navigation.module.css","Components/AuthNav/AuthNav.module.css","Components/UserMenu/UserMenu.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-reducers.js","Components/Container/Container.module.css","Components/AppBar/AppBar.module.css","redux/auth/auth-operations.js","redux/auth/auth-slice.js","redux/auth/auth-selectors.js","Components/Container/Container.js","Components/Navigation/Navigation.js","Components/UserMenu/defaultImg/ava.svg","Components/UserMenu/UserMenu.js","Components/AuthNav/AuthNav.js","Components/AppBar/AppBar.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","redux/store.js","index.js"],"names":["module","exports","fetchPhoneBookRequest","createAction","fetchPhoneBookSuccess","fetchPhoneBookError","addContactsRequest","addContactsSuccess","addContactsError","deleteContactsRequest","deleteContactsSuccess","deleteContactsError","filter","fetchContacts","dispatch","a","axios","get","data","addContacts","item","post","deleteContacts","contactsId","delete","getContacts","state","contacts","getFilter","getVisibleContacts","createSelector","items","allContacts","normalizedFilter","toLowerCase","name","includes","itemReducer","createReducer","_","payload","id","isLoading","error","filterReducer","combineReducers","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","toast","theme","rejectWithValue","logIn","logOut","fetchCurrentUser","thunkAPI","getState","persistedToken","auth","console","log","authOperations","authSlice","createSlice","initialState","user","email","isLoggedIn","isFetchingCurrent","extraReducers","fulfilled","action","pending","rejected","authSelectors","getIsLoggedIn","getUserName","getIsFetchingCurrent","Container","children","className","styles","container","Navigation","useSelector","to","exact","link","activeClassName","activelink","UserMenu","useDispatch","menu","src","defaultAvatar","alt","img","text","Button","variant","type","onClick","AuthNav","AppBar","heder","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirecy","RegisterViews","lazy","HomeViews","LoginViews","ContactsViews","App","useEffect","fallback","path","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.517dd8f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__14Pva\",\"activelink\":\"Navigation_activelink__2kocN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__Tg_qe\",\"activelink\":\"AuthNav_activelink__2Mji6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"UserMenu_img__2OE0h\",\"menu\":\"UserMenu_menu__klfum\",\"text\":\"UserMenu_text__1CDqy\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchPhoneBookRequest = createAction(\n  'contact/fetchPhoneBookRequest',\n);\nexport const fetchPhoneBookSuccess = createAction(\n  'contact/fetchPhoneBookSuccess',\n);\nexport const fetchPhoneBookError = createAction('contact/fetchPhoneBookError');\n\nexport const addContactsRequest = createAction('contact/addContactsRequest');\nexport const addContactsSuccess = createAction('contact/addContactsSuccess');\nexport const addContactsError = createAction('contact/addContactsError');\n\nexport const deleteContactsRequest = createAction(\n  'contact/deleteContactsRequest',\n);\nexport const deleteContactsSuccess = createAction(\n  'contact/deleteContactsSuccess ',\n);\nexport const deleteContactsError = createAction('contact/deleteContactsError');\n\nexport const filter = createAction('contact/filter');\n","import axios from \"axios\";\nimport {\n  fetchPhoneBookRequest,\n  fetchPhoneBookSuccess,\n  fetchPhoneBookError,\n  addContactsRequest,\n  addContactsSuccess,\n  addContactsError,\n  deleteContactsRequest,\n  deleteContactsSuccess,\n  deleteContactsError,\n} from \"./contacts-actions\";\n\nconst fetchContacts = () => async (dispatch) => {\n  dispatch(fetchPhoneBookRequest());\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    dispatch(fetchPhoneBookSuccess(data));\n  } catch (error) {\n    dispatch(fetchPhoneBookError());\n  }\n};\n\nconst addContacts = (item) => async (dispatch) => {\n  dispatch(addContactsRequest);\n  try {\n    const { data } = await axios.post(\"contacts\", item);\n    dispatch(addContactsSuccess(data));\n  } catch (error) {\n    dispatch(addContactsError());\n  }\n};\n\nconst deleteContacts = (contactsId) => async (dispatch) => {\n  deleteContactsRequest();\n  try {\n    await axios.delete(`contacts/${contactsId}`);\n    dispatch(deleteContactsSuccess(contactsId));\n  } catch (error) {\n    dispatch(deleteContactsError(error));\n  }\n};\n\nexport default { fetchContacts, addContacts, deleteContacts };\n","import { createSelector } from \"@reduxjs/toolkit\";\nconst getContacts = (state) => state.contacts;\nconst getFilter = (state) => state.contacts.filter;\nconst getAllContacts = (state) => getContacts(state).items;\n\nconst getVisibleContacts = createSelector(\n  [getAllContacts, getFilter],\n  (allContacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return allContacts.filter((items) =>\n      items.name.toLowerCase().includes(normalizedFilter)\n    );\n  }\n);\n\nexport default { getFilter, getVisibleContacts, getContacts };\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  fetchPhoneBookRequest,\n  fetchPhoneBookSuccess,\n  fetchPhoneBookError,\n  addContactsRequest,\n  addContactsSuccess,\n  addContactsError,\n  deleteContactsRequest,\n  deleteContactsSuccess,\n  deleteContactsError,\n  filter,\n} from \"./contacts-actions\";\n\nconst itemReducer = createReducer([], {\n  [fetchPhoneBookSuccess]: (_, { payload }) => payload,\n  [addContactsSuccess]: (state, { payload }) => [...state, { ...payload }],\n  [deleteContactsSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst isLoading = createReducer(false, {\n  [fetchPhoneBookRequest]: () => true,\n  [fetchPhoneBookSuccess]: () => false,\n  [fetchPhoneBookError]: () => false,\n  [addContactsRequest]: () => true,\n  [addContactsSuccess]: () => false,\n  [addContactsError]: () => false,\n  [deleteContactsRequest]: () => true,\n  [deleteContactsSuccess]: () => false,\n  [deleteContactsError]: () => false,\n});\n\nconst error = createReducer(null, {});\n// const error = createReducer(null, {\n// \t[actions.fetchPhoneBookError]: (_, action) => action.payload,\n// \t[actions.fetchPhoneBookRequest]: () => null,\n// })\n\nconst filterReducer = createReducer(\"\", {\n  [filter]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  items: itemReducer,\n  isLoading,\n  error,\n  filter: filterReducer,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__t4o0y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heder\":\"AppBar_heder__2tfuy\"};","import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = `https://connections-api.herokuapp.com`;\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = createAsyncThunk(\"auth/register\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/signup\", credentials);\n    token.set(data.token);\n    return data;\n  } catch ({ data }) {\n    toast.error(\n      { data },\n      {\n        theme: \"colored\",\n      }\n    );\n    return createAsyncThunk.rejectWithValue();\n  }\n});\n\nconst logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/login\", credentials);\n    token.set(data.token);\n    return data;\n  } catch ({ data }) {\n    toast.error(\n      { data },\n      {\n        theme: \"colored\",\n      }\n    );\n    return createAsyncThunk.rejectWithValue();\n  }\n});\n\nconst logOut = createAsyncThunk(\"auth/logout\", async () => {\n  try {\n    await axios.post(\"/users/logout\");\n    token.unset();\n  } catch (error) {}\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log(\"Токена нет, уходим из fetchCurrentUser\");\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {}\n  }\n);\n\nconst authOperations = {\n  register,\n  logIn,\n  logOut,\n  fetchCurrentUser,\n};\nexport default authOperations;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrent: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrent = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrent = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrent = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\nconst getUserName = (state) => state.auth.user.name;\nconst getIsFetchingCurrent = (state) => state.auth.isFetchingCurrent;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsFetchingCurrent,\n};\nexport default authSelectors;\n","import styles from \"./Container.module.css\";\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"./Navigation.module.css\";\nimport { authSelectors } from \"../../redux/auth\";\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink\n        to=\"/\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activelink}\n      >\n        Home\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink\n          exact\n          to=\"/contacts\"\n          className={styles.link}\n          activeClassName={styles.activelink}\n        >\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/ava.7d81e2a7.svg\";","import { useDispatch, useSelector } from \"react-redux\";\nimport { authOperations, authSelectors } from \"../../redux/auth\";\nimport defaultAvatar from \"./defaultImg/ava.svg\";\nimport styles from \"./UserMenu.module.css\";\nimport { Button } from \"react-bootstrap\";\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n  return (\n    <div className={styles.menu}>\n      <img src={defaultAvatar} alt=\"avatar\" className={styles.img}></img>\n      <span className={styles.text}>Welcome, {name}</span>\n      <Button\n        variant=\"primary\"\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        LogOut\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"./AuthNav.module.css\";\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activelink}\n      >\n        Registration\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activelink}\n      >\n        LogIn\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { authSelectors } from \"../../redux/auth\";\nimport Navigation from \"../Navigation/Navigation\";\nimport UserMenu from \"../UserMenu/UserMenu\";\nimport AuthNav from \"../AuthNav/AuthNav\";\nimport styles from \"./AppBar.module.css\";\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(\"isLoggedIn\", isLoggedIn);\n\n  return (\n    <header className={styles.heder}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\nexport default function PrivateRoute({\n  redirectTo = \"/\",\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirecy = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirecy ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { useEffect, Suspense, lazy } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Container from \"./Components/Container/Container\";\nimport { Switch } from \"react-router-dom\";\nimport AppBar from \"./Components/AppBar/AppBar\";\nimport { authOperations, authSelectors } from \"./redux/auth\";\nimport PrivateRoute from \"./Components/PrivateRoute\";\nimport PublicRoute from \"./Components/PublicRoute\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst RegisterViews = lazy(() =>\n  import(\n    \"./views/registerViews/RegisterPageViews\" /* webpackChunkName: \"RegisterViews\" */\n  )\n);\nconst HomeViews = lazy(() =>\n  import(\"./views/HomeViews/HomePageViews\" /* webpackChunkName: \"HomeView\" */)\n);\nconst LoginViews = lazy(() =>\n  import(\n    \"./views/loginViews/LoginPageViews\" /* webpackChunkName: \"LoginViews\" */\n  )\n);\nconst ContactsViews = lazy(() =>\n  import(\n    \"./views/contactsViews/ContactsPageViews\" /* webpackChunkName: \"ContactsViews\" */\n  )\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrent = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n  return (\n    !isFetchingCurrent && (\n      <Container>\n        <AppBar />\n\n        <Switch>\n          <Suspense fallback={<p>Loading...</p>}>\n            <PublicRoute exact path=\"/\">\n              <HomeViews />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/register\" restricted>\n              <RegisterViews />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/login\" restricted redirectTo=\"/contacts\">\n              <LoginViews />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <ContactsViews />\n            </PrivateRoute>\n          </Suspense>\n        </Switch>\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </Container>\n    )\n  );\n}\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport logger from \"redux-logger\";\nimport storage from \"redux-persist/lib/storage\";\nimport { contactsReducer } from \"../redux/contacts\";\nimport { authReducer } from \"./auth\";\n\nconst middleware = (getDefaultMiddleware) =>\n  getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n    logger,\n  });\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport { store, persistor } from \"./redux/store\";\n// import 'modern-normalize/modern-normalize.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}